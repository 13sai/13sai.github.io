<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>详解CSS选择器、优先级与匹配原理 | 13sai blog</title><meta name="description" content="三种基本的选择器类型语法如下：标签名选择器，类选择器，ID选择器。优先级逐级增大。"><meta name="keywords" content="css"><meta name="author" content="13sai"><meta name="copyright" content="13sai"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="详解CSS选择器、优先级与匹配原理"><meta name="twitter:description" content="三种基本的选择器类型语法如下：标签名选择器，类选择器，ID选择器。优先级逐级增大。"><meta name="twitter:image" content="http://github.13sai.com/ui/assets/i/f10.jpg"><meta property="og:type" content="article"><meta property="og:title" content="详解CSS选择器、优先级与匹配原理"><meta property="og:url" content="http://github.13sai.com/2015/12/01/4/"><meta property="og:site_name" content="13sai blog"><meta property="og:description" content="三种基本的选择器类型语法如下：标签名选择器，类选择器，ID选择器。优先级逐级增大。"><meta property="og:image" content="http://github.13sai.com/ui/assets/i/f10.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://github.13sai.com/2015/12/01/4/"><link rel="prev" title="li设置float时如何控制ul的高度" href="http://github.13sai.com/2015/12/08/5/"><link rel="next" title="关于mysql数据库可查询不可写入的问题" href="http://github.13sai.com/2015/12/01/3/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight_copy: 'false',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: undefined,
  copy_copyright_js: false,
  ClickShowText: undefined,
  medium_zoom: 'false',
  Snackbar: undefined
  
}</script></head><body><div id="header"> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">13sai blog</a></span><i class="fa fa-bars fa-fw toggle-menu pull_right close" aria-hidden="true"></i><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-folder-open" aria-hidden="true"></i><span> 分类</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/nginx/"><i class="fa-fw"></i><span> Nginx</span></a></li><li><a class="site-page" href="/categories/mysql/"><i class="fa-fw"></i><span> Mysql</span></a></li><li><a class="site-page" href="/categories/php/"><i class="fa-fw"></i><span> PHP</span></a></li><li><a class="site-page" href="/categories/redis/"><i class="fa-fw"></i><span> Redis</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 书签</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></span><span class="pull_right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lazyload avatar_img" src="/img/sai.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">196</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">42</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">28</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-folder-open" aria-hidden="true"></i><span> 分类</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/nginx/"><i class="fa-fw"></i><span> Nginx</span></a></li><li><a class="site-page" href="/categories/mysql/"><i class="fa-fw"></i><span> Mysql</span></a></li><li><a class="site-page" href="/categories/php/"><i class="fa-fw"></i><span> PHP</span></a></li><li><a class="site-page" href="/categories/redis/"><i class="fa-fw"></i><span> Redis</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 书签</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/ui/assets/i/f10.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">详解CSS选择器、优先级与匹配原理</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2015-12-01<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-11-21</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/css/">css</a></span><div class="post-meta-wordcount"></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"> <p><span style="font-weight:bold">选择器种类</span></p><p>严格来讲，选择器的种类可以分为三种：标签名选择器、类选择器和ID选择器。而所谓的后代选择器和群组选择器只不过是对前三种选择器的扩展应用。而 在标签内写入style=&quot;&quot;的方式，应该是CSS的一种引入方式，而不是选择器，因为根本就没有用到选择器。而一般人们将上面这几种方式结合在一起，所 以就有了5种或6种选择器了。</p><p><span style="font-weight:bold">三种基本的选择器类型</span></p><p>语法如下：</p><p>◆标签名选择器，如：p{}，即直接使用HTML标签作为选择器。</p><p>◆类选择器，如.polaris{}。</p><p>◆ID选择器，如#polaris{}。</p><p>注意，ID选择器跟类选择器有很大的不同：一个页面内不能出现相同的ID；再就是ID也是后台开发人员会经常用的，所以前端开发人员应该尽量少的使用。当然跟后台人员的工作配合十分娴熟之后，这些都不会成为限制。</p><p><span style="font-weight:bold">扩展选择器</span></p><p>◆后代选择器，如.polaris span img{}，后代选贼器实际上是使用多个选择器加上中间的空格来找到具体的要控制标签。</p><p>◆群组选择器，如div,span,img{}，群组选择器实际上是对CSS的一种简化写法，只不过把有相同定义的不同选择器放在一起，省了很多代码。</p><p><span style="font-weight:bold">选择器的优先级别</span></p><p>了解了各种选择器后，还有一个重要的知识点就是CSS选择器的优先级。这也就是为什么polaris会遇到文章开头的问题。举个简单的例子：</p><ol yne-block-type="list" class=" list-paddingleft-2"><li><p>&lt;div&nbsp;class=&quot;polaris&quot;&gt;&nbsp;</p></li><li><p>&lt;span&nbsp;class=&quot;beijixing&quot;&gt;&nbsp;</p></li><li><p>beijixing &nbsp;</p></li><li><p>&lt;/span&gt;&nbsp;</p></li><li><p>&lt;span&gt;&nbsp;</p></li><li><p>polaris &nbsp;</p></li><li><p>&lt;/span&gt;&nbsp;</p></li><li><p>&lt;/div&gt;&nbsp;</p></li></ol><p>如果已经把.polaris下面span内的字体设置成红色：</p><ol yne-block-type="list" class=" list-paddingleft-2"><li><p>.polaris&nbsp;span&nbsp;{color:red;}&nbsp;</p></li></ol><p>这时，如果要改变.beijixing的颜色为蓝色，用下面的命令是不能实现的：</p><ol yne-block-type="list" class=" list-paddingleft-2"><li><p>.beijixing&nbsp;{color:blue;}&nbsp;</p></li></ol><p>出现这种情况就是因为后一个命令的优先级不够，两条相互冲突的样式设置，浏览器只会执行优先级较高的那个。</p><p><span style="font-weight:bold">那么选择器的优先级是怎么规定的呢？</span></p><p>一般而言，选择器越特殊，它的优先级越高。也就是选择器指向的越准确，它的优先级就越高。<span style="color:#4f81bd">通常我们用1表示标签名选择器的优先级，用10表示类选择 器的优先级，用100标示ID选择器的优先级。比如上例当中 .polaris span {color:red;}的选择器优先级是 10 + 1 也就是11；而 .polaris 的优先级是10；</span>浏览器自然会显示红色的字。理解了这个道理之后下面的优先级计算自是易如反掌：</p><ol yne-block-type="list" class=" list-paddingleft-2"><li><p>div.test1&nbsp;.span&nbsp;var&nbsp;优先级&nbsp;1+10&nbsp;+10&nbsp;+1 &nbsp;</p></li><li><p>span#xxx&nbsp;.songs&nbsp;li&nbsp;优先级1+100&nbsp;+&nbsp;10&nbsp;+&nbsp;1 &nbsp;</p></li><li><p>#xxx&nbsp;li&nbsp;优先级&nbsp;100&nbsp;+1&nbsp;</p></li></ol><p><span style="color:#9bbb59">对于什么情况下使用什么选择器，用不同选择器的原则是：第一：准确的选到要控制的标签；第二：使用最合理优先级的选择器；第三：HTML和CSS代码尽量简洁美观。通常：</span></p><p><span style="color:#9bbb59">1、最常用的选择器是类选择器。</span></p><p><span style="color:#9bbb59">2、li、td、dd等经常大量连续出现，并且样式相同或者相类似的标签，我们采用类选择器跟标签名选择器结合的后代选择器 .xx li/td/dd {} 的方式选择。</span></p><p><span style="color:#9bbb59">3、极少的情况下会用ID选择器，当然很多前端开发人员喜欢header，footer，banner，conntent设置成ID选择器的，因为相同的样式在一个页面里不可能有第二次。</span></p><p>在这里不得不提使用在标签内引入CSS的方式来写CSS，即：</p><ol yne-block-type="list" class=" list-paddingleft-2"><li><p>&lt;div&nbsp;style=&quot;color:red&quot;&gt;polaris&lt;/div&gt;&nbsp;</p></li></ol><p>这时候的优先级是最高的。我们给它的优先级是1000，这种写法不推荐使用，特别是对新手来说。这也完全违背了内容和显示分离的思想。DIV+CSS的优点也不能再有任何体现。</p><p><span style="font-weight:bold">后代选择器的定位原则</span></p><p>在这里介绍一下对于后代选择器，浏览器是如何查找元素的呢？</p><p>浏览器CSS匹配不是从左到右进行查找，而是从右到左进行查找。比如DIV#divBox p span.red{color:red;}，浏览器的查找顺序如下：先查找html中所有class=&#39;red&#39;的span元素，找到后，再查找其父辈元 素中是否有p元素，再判断p的父元素中是否有id为divBox的div元素，如果都存在则匹配上。</p><p>浏览器从右到左进行查找的好处是为了尽早过滤掉一些无关的样式规则和元素。比如如下html和css:</p><ol yne-block-type="list" class=" list-paddingleft-2"><li><p>&lt;style&gt;&nbsp;</p></li><li><p>DIV#divBox&nbsp;p&nbsp;span.red{color:red;} &nbsp;</p></li><li><p>&gt;&lt;style&gt;&nbsp;</p></li><li><p>&lt;body&gt;&nbsp;</p></li><li><p>&lt;div&nbsp;id=&quot;divBox&quot;&gt;&nbsp;</p></li><li><p>&lt;p&gt;&lt;span&gt;s1&lt;/span&gt;&lt;/p&gt;&nbsp;</p></li><li><p>&lt;p&gt;&lt;span&gt;s2&lt;/span&gt;&lt;/p&gt;&nbsp;</p></li><li><p>&lt;p&gt;&lt;span&gt;s3&lt;/span&gt;&lt;/p&gt;&nbsp;</p></li><li><p>&lt;p&gt;&lt;span&nbsp;class=&#39;red&#39;&gt;s4&lt;/span&gt;&lt;/p&gt;&nbsp;</p></li><li><p>&lt;/div&gt;&nbsp;</p></li><li><p>&lt;/body&gt;&nbsp;</p></li></ol><p>如果按从左到右查找，哪会先查找到很多不相关的p和span元素。而如果按从左到右的方式进行查找，则首先就查找到&lt;span class=&#39;red&#39;&gt;的元素。firefox称这种查找方式为key selector(关键字查询)，所谓的关键字就是样式规则中最后(最右边)的规则，上面的key就是span.red。</p><p><span style="font-weight:bold">简洁、高效的CSS</span></p><p>所谓高效的CSS就是让浏览器在查找style匹配的元素的时候尽量进行少的查找，下面列出一些我们常见的写CSS犯一些低效错误：</p><p>◆不要在ID选择器前使用标签名</p><p>一般写法：DIV#divBox</p><p>更好写法：#divBox</p><p>解释： 因为ID选择器是唯一的，加上div反而增加不必要的匹配。</p><p>◆不要再class选择器前使用标签名</p><p>一般写法：span.red</p><p>更好写法：.red</p><p>解释：同第一条，但如果你定义了多个.red，而且在不同的元素下是样式不一样，则不能去掉，比如你css文件中定义如下：</p><ol yne-block-type="list" class=" list-paddingleft-2"><li><p>p.red{color:red;} &nbsp;</p></li><li><p>span.red{color:#ff00ff}&nbsp;</p></li></ol><p>如果是这样定义的就不要去掉，去掉后就会混淆，不过建议最好不要这样写</p><p>◆尽量少使用层级关系</p><p>一般写法：#divBox p .red{color:red;}</p><p>更好写法：.red{..}</p><p>◆使用class代替层级关系</p><p>一般写法：#divBox ul li a{display:block;}</p><p>更好写法：.block{display:block;}</p><p><br/></p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/css/">css    </a></div><div class="post_share"><div class="social-share" data-image="/ui/assets/i/f10.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="http://image.13sai.com/zan.jpg"><div class="post-qr-code__desc">微信</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2015/12/08/5/"><img class="prev_cover lazyload" data-src="/ui/assets/i/f22.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>li设置float时如何控制ul的高度</span></div></a></div><div class="next-post pull_right"><a href="/2015/12/01/3/"><img class="next_cover lazyload" data-src="/img/flower.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>关于mysql数据库可查询不可写入的问题</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2016/06/14/51/" title="CSS外边距合并"><img class="relatedPosts_cover lazyload"data-src="/ui/assets/i/f22.jpg"><div class="relatedPosts_title">CSS外边距合并</div></a></div><div class="relatedPosts_item"><a href="/2016/03/26/33/" title="CSS编写二三事"><img class="relatedPosts_cover lazyload"data-src="/img/flower.jpg"><div class="relatedPosts_title">CSS编写二三事</div></a></div><div class="relatedPosts_item"><a href="/2016/06/21/52/" title="css实现文字竖排"><img class="relatedPosts_cover lazyload"data-src="/upload/article/14798904731.png"><div class="relatedPosts_title">css实现文字竖排</div></a></div><div class="relatedPosts_item"><a href="/2016/03/17/29/" title="css限制字数（单行）"><img class="relatedPosts_cover lazyload"data-src="/img/flower.jpg"><div class="relatedPosts_title">css限制字数（单行）</div></a></div><div class="relatedPosts_item"><a href="/2015/12/08/5/" title="li设置float时如何控制ul的高度"><img class="relatedPosts_cover lazyload"data-src="/ui/assets/i/f22.jpg"><div class="relatedPosts_title">li设置float时如何控制ul的高度</div></a></div><div class="relatedPosts_item"><a href="/2016/05/18/43/" title="去除a链接的虚线框"><img class="relatedPosts_cover lazyload"data-src="/img/flower.jpg"><div class="relatedPosts_title">去除a链接的虚线框</div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '56020318cc01a9d56fdd',
  clientSecret: '2fbbfefbb59c1247f4e212b7b83909302553911c',
  repo: '13sai.github.io',
  owner: '13sai',
  admin: '13sai',
  id: md5(decodeURI(location.pathname)),
  language: ''
})
gitalk.render('gitalk-container')</script></div></div></div><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2014 - 2020 By 13sai</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="icp"><a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"><span>皖ICP备14021992号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>